<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
	<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h1>LuaDoc</h1>
<ul>
	
	<li><a href="../index.html">Index</a></li>
	
</ul>


<!-- Module list -->



<!-- File list -->

<h1>Files</h1>
<ul>

	<li>
		<a href="../files/Export.html">Export.lua</a>
	</li>

	<li>
		<a href="../files/ExportFilter.html">ExportFilter.lua</a>
	</li>

	<li><strong>FtpExport.lua</strong></li>
	
	<li>
		<a href="../files/FtpPublish.html">FtpPublish.lua</a>
	</li>

	<li>
		<a href="../files/Publish.html">Publish.lua</a>
	</li>

</ul>






</div> <!-- id="navigation" -->

<div id="content">

<h1>File <code>FtpExport.lua</code></h1>







<h2>Functions</h2>
<table class="function_list">

	<tr>
	<td class="name" nowrap><a href="#FtpExport.endDialog">FtpExport.endDialog</a>&nbsp;(props, why)</td>
	<td class="summary">Called when dialog box is closing.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport.processRenderedPhotos">FtpExport.processRenderedPhotos</a>&nbsp;(functionContext, exportContext)</td>
	<td class="summary">Called to process render(ing) photos.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport.propertyChangeHandler">FtpExport.propertyChangeHandler</a>&nbsp;(id, props, name, value)</td>
	<td class="summary">FtpExport parameter change handler proper - static function  </td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport.sectionsForBottomOfDialog">FtpExport.sectionsForBottomOfDialog</a>&nbsp;(vf, props)</td>
	<td class="summary">Presently, there are no default sections imagined for the export bottom.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport.sectionsForTopOfDialog">FtpExport.sectionsForTopOfDialog</a>&nbsp;(vf, props)</td>
	<td class="summary">Presently, it is imagined to just replicate the manager's top section in the export.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport.startDialog">FtpExport.startDialog</a>&nbsp;(props)</td>
	<td class="summary">Called when dialog box is opening - static function as required by Lightroom.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:_getServiceName">FtpExport:_getServiceName</a>&nbsp;(props)</td>
	<td class="summary">get fully qualified (unique) service name based on properties.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:checkBeforeRendering">FtpExport:checkBeforeRendering</a>&nbsp;()</td>
	<td class="summary">Remove photos not to be rendered, or whatever.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:endDialogMethod">FtpExport:endDialogMethod</a>&nbsp;(props, why)</td>
	<td class="summary">Do whatever when dialog box closing.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:finale">FtpExport:finale</a>&nbsp;(service)</td>
	<td class="summary">Perform export service wrap-up.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:initiate">FtpExport:initiate</a>&nbsp;(service)</td>
	<td class="summary">Called when export is initiated.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:newClass">FtpExport:newClass</a>&nbsp;(t)</td>
	<td class="summary">Constructor for extending class.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:newDialog">FtpExport:newDialog</a>&nbsp;(t)</td>
	<td class="summary">Constructor to create the export object that represents the export dialog box.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:newExport">FtpExport:newExport</a>&nbsp;(t)</td>
	<td class="summary">Create a new export object.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:newFtpJob">FtpExport:newFtpJob</a>&nbsp;()</td>
	<td class="summary">Called when new export is getting under way (i.e.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:processRenderedPhoto">FtpExport:processRenderedPhoto</a>&nbsp;(rendition, photoPath)</td>
	<td class="summary">Process one rendered photo.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:processRenderedPhotosMethod">FtpExport:processRenderedPhotosMethod</a>&nbsp;()</td>
	<td class="summary">Method version of like-named static function.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:processRenderingFailure">FtpExport:processRenderingFailure</a>&nbsp;(rendition, message)</td>
	<td class="summary">Process one photo rendering failure.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:propertyChangeHandlerMethod">FtpExport:propertyChangeHandlerMethod</a>&nbsp;(props, name, value)</td>
	<td class="summary">Handle change to properties under authority of base export class.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:sectionsForBottomOfDialogMethod">FtpExport:sectionsForBottomOfDialogMethod</a>&nbsp;(vf, props)</td>
	<td class="summary">Standard export sections for bottom of dialog.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:sectionsForTopOfDialogMethod">FtpExport:sectionsForTopOfDialogMethod</a>&nbsp;(vf, props)</td>
	<td class="summary">Standard export sections for top of dialog.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:service">FtpExport:service</a>&nbsp;(service)</td>
	<td class="summary">Service function of base export - processes renditions.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#FtpExport:startDialogMethod">FtpExport:startDialogMethod</a>&nbsp;(props)</td>
	<td class="summary">Do whatever when dialog box opening.</td>
	</tr>

</table>






<br/>
<br/>




<h2><a name="functions"></a>Functions</h2>
<dl class="function">



<dt><a name="FtpExport.endDialog"></a><strong>FtpExport.endDialog</strong>&nbsp;(props, why)</dt>
<dd>
Called when dialog box is closing. 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>props</em></code>: 
	</li>
	
	<li>
	  <code><em>why</em></code>: 
	</li>
	
</ul>




<h3>Usage:</h3>
<ul>
	
	<li><pre class=example>Generally no reason to override in derived class - override method instead.</pre></li>
	
	<li><pre class=example>Just calls corresponding method of actual (i.e derived class) export object. </pre></li>
	
</ul>





</dd>




<dt><a name="FtpExport.processRenderedPhotos"></a><strong>FtpExport.processRenderedPhotos</strong>&nbsp;(functionContext, exportContext)</dt>
<dd>
Called to process render(ing) photos.  <p>Photos have not started rendering when this is first called. Once started, they will be rendered in an asynchronous task within Lightroom. Rendering may be started implicitly by invoking the renditions iterator of the export context, or explicitly by calling export-context - start-rendering.</p> 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>functionContext</em></code>: 
	</li>
	
	<li>
	  <code><em>exportContext</em></code>: 
	</li>
	
</ul>




<h3>Usage:</h3>
<ul>
	
	<li><pre class=example>Generally no reason to override in derived class - override method instead.</pre></li>
	
	<li><pre class=example>1st: creates derived export object via object factory, <br>then calls corresponding method of actual (i.e derived class) export object.</pre></li>
	
	<li><pre class=example>Rendering order is not guaranteed, however experience dictates they are in order. </pre></li>
	
</ul>





</dd>




<dt><a name="FtpExport.propertyChangeHandler"></a><strong>FtpExport.propertyChangeHandler</strong>&nbsp;(id, props, name, value)</dt>
<dd>
FtpExport parameter change handler proper - static function 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>id</em></code>: 
	</li>
	
	<li>
	  <code><em>props</em></code>: 
	</li>
	
	<li>
	  <code><em>name</em></code>: 
	</li>
	
	<li>
	  <code><em>value</em></code>: 
	</li>
	
</ul>




<h3>Usage:</h3>
<ul>
	
	<li><pre class=example>Generally no reason to override in derived class - override method instead.</pre></li>
	
	<li><pre class=example>Just calls corresponding method of actual (i.e derived class) export object. </pre></li>
	
</ul>





</dd>




<dt><a name="FtpExport.sectionsForBottomOfDialog"></a><strong>FtpExport.sectionsForBottomOfDialog</strong>&nbsp;(vf, props)</dt>
<dd>
Presently, there are no default sections imagined for the export bottom. 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>vf</em></code>: 
	</li>
	
	<li>
	  <code><em>props</em></code>: 
	</li>
	
</ul>




<h3>Usage:</h3>
<ul>
	
	<li><pre class=example>Generally no reason to override in derived class - override method instead.</pre></li>
	
	<li><pre class=example>Just calls corresponding method of actual (i.e derived class) export dialog object. </pre></li>
	
</ul>





</dd>




<dt><a name="FtpExport.sectionsForTopOfDialog"></a><strong>FtpExport.sectionsForTopOfDialog</strong>&nbsp;(vf, props)</dt>
<dd>
Presently, it is imagined to just replicate the manager's top section in the export. 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>vf</em></code>: 
	</li>
	
	<li>
	  <code><em>props</em></code>: 
	</li>
	
</ul>




<h3>Usage:</h3>
<ul>
	
	<li><pre class=example>Generally no reason to override in derived class - override method instead.</pre></li>
	
	<li><pre class=example>Just calls corresponding method of actual (i.e derived class) export dialog object. </pre></li>
	
</ul>





</dd>




<dt><a name="FtpExport.startDialog"></a><strong>FtpExport.startDialog</strong>&nbsp;(props)</dt>
<dd>
Called when dialog box is opening - static function as required by Lightroom. 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>props</em></code>: 
	</li>
	
</ul>




<h3>Usage:</h3>
<ul>
	
	<li><pre class=example>Generally no reason to override in derived class - override method instead.</pre></li>
	
	<li><pre class=example>Just calls corresponding method of actual (i.e derived class) export object. </pre></li>
	
</ul>





</dd>




<dt><a name="FtpExport:_getServiceName"></a><strong>FtpExport:_getServiceName</strong>&nbsp;(props)</dt>
<dd>
get fully qualified (unique) service name based on properties. 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>props</em></code>: 
	</li>
	
</ul>




<h3>Usage:</h3>
<ul>
	
	<li><pre class=example>*** critical side effect: service name will be assigned to properties *if* not publish service properties.</pre></li>
	
	<li><pre class=example>*** to be clear: do NOT assign the output of this to service-name property, since it includes app-name prefix. </pre></li>
	
</ul>





</dd>




<dt><a name="FtpExport:checkBeforeRendering"></a><strong>FtpExport:checkBeforeRendering</strong>&nbsp;()</dt>
<dd>
Remove photos not to be rendered, or whatever. 









</dd>




<dt><a name="FtpExport:endDialogMethod"></a><strong>FtpExport:endDialogMethod</strong>&nbsp;(props, why)</dt>
<dd>
Do whatever when dialog box closing.  <p>Nuthin yet...</p> 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>props</em></code>: 
	</li>
	
	<li>
	  <code><em>why</em></code>: 
	</li>
	
</ul>




<h3>Usage:</h3>
<ul><pre class=example>Call from derived class to ensure dialog is ended properly according to base class. </pre></ul>





</dd>




<dt><a name="FtpExport:finale"></a><strong>FtpExport:finale</strong>&nbsp;(service)</dt>
<dd>
Perform export service wrap-up. 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>service</em></code>: 
	</li>
	
</ul>




<h3>Usage:</h3>
<ul>
	
	<li><pre class=example>Override this method in derived class to log stats...</pre></li>
	
	<li><pre class=example>*** IMPORTANT: This method is critical to export integrity. Derived export class must remember to call it at end of special export finale method. </pre></li>
	
</ul>





</dd>




<dt><a name="FtpExport:initiate"></a><strong>FtpExport:initiate</strong>&nbsp;(service)</dt>
<dd>
Called when export is initiated. 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>service</em></code>: 
	</li>
	
</ul>




<h3>Usage:</h3>
<ul><pre class=example>This method helps export manager track managed exports (all exports based on this class are managed). </pre></ul>





</dd>




<dt><a name="FtpExport:newClass"></a><strong>FtpExport:newClass</strong>&nbsp;(t)</dt>
<dd>
Constructor for extending class. 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>t</em></code>: 
	</li>
	
</ul>








</dd>




<dt><a name="FtpExport:newDialog"></a><strong>FtpExport:newDialog</strong>&nbsp;(t)</dt>
<dd>
Constructor to create the export object that represents the export dialog box.  <p>One of these objects is created when the export dialog box is presented, if it has not already been.</p> 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>t</em></code>: 
	</li>
	
</ul>








</dd>




<dt><a name="FtpExport:newExport"></a><strong>FtpExport:newExport</strong>&nbsp;(t)</dt>
<dd>
Create a new export object.  <p>One of these objects is created EACH time a new export is initiated, then killed at export completion - supports multiple concurrent exports, without interference (assuming a different set of photos is selected, otherwise all kinds of interference...)</p> 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>t</em></code>: Parameter table<ul> <li>exportContext <li>functionContext</ul> 
	</li>
	
</ul>






<h3>Return value:</h3>
<ul>FtpExport object </ul>



</dd>




<dt><a name="FtpExport:newFtpJob"></a><strong>FtpExport:newFtpJob</strong>&nbsp;()</dt>
<dd>
Called when new export is getting under way (i.e. early in process-rendered-photos func/meth).  It makes sure the appropriate directory infrastructure exists, and ascertains the correct job-num to use. 









</dd>




<dt><a name="FtpExport:processRenderedPhoto"></a><strong>FtpExport:processRenderedPhoto</strong>&nbsp;(rendition, photoPath)</dt>
<dd>
Process one rendered photo. 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>rendition</em></code>: 
	</li>
	
	<li>
	  <code><em>photoPath</em></code>: 
	</li>
	
</ul>








</dd>




<dt><a name="FtpExport:processRenderedPhotosMethod"></a><strong>FtpExport:processRenderedPhotosMethod</strong>&nbsp;()</dt>
<dd>
Method version of like-named static function. 





<h3>Usage:</h3>
<ul>
	
	<li><pre class=example>Same as base-class method, except pre-init ftp job.</pre></li>
	
	<li><pre class=example>Note: ftp-export needs special finale logic too (to close ftp job) - not handled in this method, since it needs to weather thrown errors. </pre></li>
	
</ul>





</dd>




<dt><a name="FtpExport:processRenderingFailure"></a><strong>FtpExport:processRenderingFailure</strong>&nbsp;(rendition, message)</dt>
<dd>
Process one photo rendering failure. 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>rendition</em></code>: 
	</li>
	
	<li>
	  <code><em>message</em></code>: error message generated by Lightroom. 
	</li>
	
</ul>








</dd>




<dt><a name="FtpExport:propertyChangeHandlerMethod"></a><strong>FtpExport:propertyChangeHandlerMethod</strong>&nbsp;(props, name, value)</dt>
<dd>
Handle change to properties under authority of base export class.  <p>Presently there are none - but that could change</p> 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>props</em></code>: 
	</li>
	
	<li>
	  <code><em>name</em></code>: 
	</li>
	
	<li>
	  <code><em>value</em></code>: 
	</li>
	
</ul>




<h3>Usage:</h3>
<ul><pre class=example>Call from derived class to ensure base property changes are handled. </pre></ul>





</dd>




<dt><a name="FtpExport:sectionsForBottomOfDialogMethod"></a><strong>FtpExport:sectionsForBottomOfDialogMethod</strong>&nbsp;(vf, props)</dt>
<dd>
Standard export sections for bottom of dialog.  <p>Reminder: Lightroom supports named export presets.</p> 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>vf</em></code>: 
	</li>
	
	<li>
	  <code><em>props</em></code>: 
	</li>
	
</ul>




<h3>Usage:</h3>
<ul><pre class=example>These sections can be combined with derived class's in their entirety, or strategically - presently there are none. </pre></ul>





</dd>




<dt><a name="FtpExport:sectionsForTopOfDialogMethod"></a><strong>FtpExport:sectionsForTopOfDialogMethod</strong>&nbsp;(vf, props)</dt>
<dd>
Standard export sections for top of dialog.  <p>Presently seems like a good idea to replicate the plugin manager sections.</p> 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>vf</em></code>: 
	</li>
	
	<li>
	  <code><em>props</em></code>: 
	</li>
	
</ul>




<h3>Usage:</h3>
<ul><pre class=example>These sections can be combined with derived class's in their entirety, or strategically... </pre></ul>





</dd>




<dt><a name="FtpExport:service"></a><strong>FtpExport:service</strong>&nbsp;(service)</dt>
<dd>
Service function of base export - processes renditions.  <p>You can override this method in its entirety, OR just:</p><ul>  <li>checkBeforeRendering <li>processRenderedPhoto <li>processRenderingFailure <li>(and finale maybe)</ul> 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>service</em></code>: 
	</li>
	
</ul>








</dd>




<dt><a name="FtpExport:startDialogMethod"></a><strong>FtpExport:startDialogMethod</strong>&nbsp;(props)</dt>
<dd>
Do whatever when dialog box opening.  <p>Nuthin to do so far - but that could change.</p> 


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>props</em></code>: 
	</li>
	
</ul>




<h3>Usage:</h3>
<ul><pre class=example>Call from derived class to ensure dialog is initialized according to base class. </pre></ul>





</dd>


</dl>







</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->	
</body>
</html>
